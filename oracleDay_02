CREATE TABLE CHARTEST_TBL(
    CHARCOL1 CHAR(5),
    NCHARCOL2 NCHAR(5)
);
/* INSERT 
INSERT INTO 테이블명(컬럼명1, 컬럼명2) 
VALUES(데이터1, 데이터2);

문자는 ''안에 작성
*/
INSERT INTO CHARTEST_TBL(CHARCOL1, NCHARCOL2)
VALUES('ABCDE', 'ABCDE');

SELECT * FROM CHARTEST_TBL;

INSERT INTO CHARTEST_TBL(CHARCOL1, NCHARCOL2)
VALUES('가나다라마', 'ABCDE'); -- 오류 ORA-12899: "JGH_DBA"."CHARTEST_TBL"."CHARCOL1" 열에 대한 값이 너무 큼(실제: 15, 최대값: 5)

INSERT INTO CHARTEST_TBL(CHARCOL1, NCHARCOL2)
VALUES('ABCDE', '가나다라마');

CREATE TABLE NUMBERTEST_TBL(
    COL1 NUMBER,
    COL2 NUMBER(3),
    COL3 NUMBER(3, 2) -- 1.23
);
INSERT INTO NUMBERTEST_TBL
VALUES(123, 123, 1.23);
INSERT INTO NUMBERTEST_TBL
VALUES(12345678, 123, 1.23);
INSERT INTO NUMBERTEST_TBL
VALUES(12345678, 123345678, 1.23); -- 오류 ORA-01438: 이 열에 대해 지정된 전체 자릿수보다 큰 값이 허용됩니다.
INSERT INTO NUMBERTEST_TBL
VALUES(12334567, 123, 1.2345678); -- 입력성공(1.23만 나오고 나머지는 짤림)
SELECT * FROM NUMBERTEST_TBL;
INSERT INTO NUMBERTEST_TBL
VALUES(123, 123, 12.3); -- ORA-01438: 이 열에 대해 지정된 전체 자릿수보다 큰 값이 허용됩니다. - 소수점 1자리여서 규칙에 어긋남

/* 날짜형 데이터 */
CREATE TABLE DATETEST_TBL(
    COL1 DATE
);
-- 시스템 DATE 입력
INSERT INTO DATETEST_TBL VALUES(SYSDATE);
SELECT * FROM DATETEST_TBL;

INSERT INTO DATETEST_TBL VALUES('2023/05/19');
INSERT INTO DATETEST_TBL VALUES('2023-06-19');
INSERT INTO DATETEST_TBL VALUES('2023-06-19 23:50:48');
INSERT INTO DATETEST_TBL VALUES('20230519');
-- TO_DATE( '날짜로 변경할 문자', '날짜확인방법' ) : 문자형 >> 날짜형으로 변환
INSERT INTO DATETEST_TBL VALUES( TO_DATE('2023-07-19 23:50:48', 'YYYY-MM-DD HH24:MI:SS') );
SELECT * FROM DATETEST_TBL;
-- TO_CHAR( '문자로 변경할 날짜', '변경할 범위' );

SELECT TO_CHAR (COL1, 'YYYY/MM/DD')
FROM DATETEST_TBL;

/* 테이블변경 ALTER(변경)
ALTER TABLE 테이블이름 
[ADD(추가), RENAME(이름변경), MODIFY(타입변경), DROP(삭제)]
*/
/* 새로운 컬럼 추가 
ALTER TABLE 테이블이름 
ADD 컬럼명 데이터타입;
*/
CREATE TABLE ALTER_TBL(
    COL1 NUMBER
);
-- ALTER_TBL 테이블에 컬럼이름은 NAME, 데이터타입은 NVARCHAR2(5) 컬럼 추가
ALTER TABLE ALTER_TBL ADD NAME NVARCHAR2(5);
/* 컬럼 이름 변경 
ALTER TABLE 테이블이름
RENAME COLUMN 현재컬럼명 TO 바꿀컬럼명;
*/
-- ALTER_TBL 테이블에 COL1 컬럼명을 AGE로 변경
ALTER TABLE ALTER_TBL RENAME COLUMN COL1 TO AGE;
SELECT * FROM ALTER_TBL;
DESC ALTER_TBL; -- 테이블 구조확인

/* 컬럼의 데이터 타입 변경
ALTER TABLE 테이블이름
MODIFY 컬러명 데이터타입;
*/
-- ALTER_TBL 테이블에 컬럼명 EMAIL 데이터타입 NUMBER 컬럼추가
ALTER TABLE ALTER_TBL ADD EMAIL NUMBER;
-- ALTER_TBL 테이블의 EMAIL 컬럼의 데이터타입을 문자형 최대 20글자까지
ALTER TABLE ALTER_TBL MODIFY EMAIL NVARCHAR2(20);
DESC ALTER_TBL;

/* 컬럼 삭제 
ALTER TABLE 테이블이름
DROP COLUMN 컬럼명;
*/
-- ALTER_TBL 테아블에 AGE 컬럼을 삭제
ALTER TABLE ALTER_TBL DROP COLUMN AGE;

/* 제약조건 
 - PRIMARY KEY
 - FOREIGE KEY
 - UNIQUE
 - NOT NULL
 - CHECK
 - DEFAULT
*/
/* UNIQUE : 테이블의 특정한 컬럼 부여, 중복되는 값이 입력되지 않도록 방지 */
CREATE TABLE MEMBERS(
     MID NVARCHAR2(20),
     MPW NVARCHAR2(20),
     MNAME NVARCHAR2(5),
     MEMAIL NVARCHAR2(20)
);
-- 회원정보 입력
INSERT INTO MEMBERS(MID, MPW, MNAME, MEMAIL)
VALUES('JGH', '1111', '전관호', 'JGH1111@ICIA.CO.KR');
INSERT INTO MEMBERS(MID, MPW, MNAME, MEMAIL)
VALUES('JGH', '1111', '인천일보', 'JGH1111@ICIA.CO.KR');
SELECT * FROM MEMBERS;
/* 테이블에 제약조건 부여 
ALTER TABLE 테이블이름
ADD CONSTRAINT 식별이름 제약조건종류 부여할컬럼명;
*/
-- MEMBERS 테이블의 MID 컬럼에 UNIQUE 제약조건 부여
ALTER TABLE MEMBERS ADD CONSTRAINT UK_MEM_MID UNIQUE (MID); -- 중복된 데이터가 존재해서 오류 발생
-- ORA-02299: 제약 (JGH_DBA.UK_MEM_MID)을 사용 가능하게 할 수 없음 - 중복 키가 있습니다(이미 MID중복된값이 들어가있어서 오류)
DELETE FROM MEMBERS; -- DELETE - 테이블에 데이터를 삭제

ALTER TABLE MEMBERS ADD CONSTRAINT UK_MEM_MID UNIQUE (MID);
INSERT INTO MEMBERS(MID, MPW, MNAME, MEMAIL)
VALUES('JGH', '1111', '전관호', 'JGH1111@ICIA.CO.KR'); -- 입력성공
INSERT INTO MEMBERS(MID, MPW, MNAME, MEMAIL)
VALUES('JGH', '1111', '인천일보', 'JGH1111@ICIA.CO.KR'); -- 입력실패
-- ORA-00001: 무결성 제약 조건(JGH_DBA.UK_MEM_MID)에 위배됩니다

-- MEMBERS 테이블의 MEMAIL 컬럼에 UNIQUE 제약조건 부여
ALTER TABLE MEMBERS ADD CONSTRAINT UK_MEM_MEMAIL UNIQUE(MEMAIL);
INSERT INTO MEMBERS(MID, MPW, MNAME, MEMAIL)
VALUES('JJJ', '1111', '전관호', 'JGH1111@ICIA.CO.KR');
-- ORA-00001: 무결성 제약 조건(JGH_DBA.UK_MEM_MEMAIL)에 위배됩니다





